<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro&display=swap">
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="utf-8" />
  </head>
  <body>
    <div id="app" v-cloak>
      <svg style="float:left;" width="120" height="120">
        <rect width="120" height="120" :fill="bgColor" stroke="none" />
        <g transform="translate(10, 10)">
          <qrcode :size="100" :pixels="pixels"></qrcode>
        </g>
      </svg>
      <div style="float:left;margin-left:4px;">
        <textarea style="width:10rem;height:10rem;" :readonly="true"
                  :value="JSON.stringify(pixels, null, 2)"
                  title="switch to QR" @click="mode='qr'" ></textarea>
        <br/>
        <input type="text" style="width:4rem;" :readonly="true"
          :value="bgColor" title="switch to BgColor" @click="mode='bg'" />
      </div>
      <br style="clear:both;"/>
      <div style="display: inline-block;border-radius: 6px; 
          margin-top: 4px;padding: 4px;border: 1px solid #ccc;">
        <color-picker :size="216" :value="mode == 'qr'? pixels : [bgColor]"
          @input="inputHandler"></color-picker>
      </div>
    </div>
    <script src="../sheets/components.js"></script>
    <script src="sketch.js"></script>
  </body>
</html>
